---
AWSTemplateFormatVersion: '2010-09-09'
Description: Handel-created DynamoDB Table

Resources:
  Table:
    Type: "AWS::DynamoDB::Table"
    Properties:
      AttributeDefinitions:
      - AttributeName: {{partitionKeyName}}
        AttributeType: {{partitionKeyType}}
      {{#if sortKeyName}}
      - AttributeName: {{sortKeyName}}
        AttributeType: {{sortKeyType}}
      {{/if}}
      KeySchema:
      - AttributeName: {{partitionKeyName}}
        KeyType: HASH
      {{#if sortKeyName}}
      - AttributeName: {{sortKeyName}}
        KeyType: RANGE
      {{/if}}
      ProvisionedThroughput:
        ReadCapacityUnits: {{readCapacityUnits}}
        WriteCapacityUnits: {{writeCapacityUnits}}
      TableName: {{tableName}}
      {{#if tags}}
      Tags:
      {{#each tags}}
      - Key: {{@key}}
        Value: {{this}}
      {{/each}}
      {{/if}}

Outputs:
  TableName:
    Description: The name of the Dynamo table
    Value: !Ref Table